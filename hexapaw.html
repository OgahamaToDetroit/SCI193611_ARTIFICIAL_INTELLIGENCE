<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hexapawn Candy RL Simulator (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏î‡∏™‡∏µ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Å‡∏•‡πà‡∏≠‡∏á, ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏•‡πà‡∏≠‡∏á)</title>
  <style>
    body { font-family: 'Sarabun', sans-serif; background: #f8fafc; margin: 0; padding: 32px; }
    .container { max-width: 1200px; margin: auto; }
    h2 { text-align: center; margin-bottom: 20px; }
    .boxes { display: flex; flex-wrap: wrap; gap: 18px; justify-content: center; }
    .box {
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 2px 8px #0002;
      padding: 13px 13px 9px 13px;
      width: 170px;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 10px;
    }
    .arrows { margin: 8px 0 0 0; display: flex; gap: 10px; flex-wrap: wrap;}
    .arrow { font-size: 22px; font-weight: bold; display: flex; flex-direction: column; align-items: center; }
    .arrow-label { font-size: 12px; }
    .remove-btn {
      background: #dc2626;
      color: #fff;
      border: none;
      border-radius: 5px;
      font-size: 10px;
      margin-top: 3px;
      cursor: pointer;
      padding: 1px 8px;
    }
    .btn {
      margin-top: 8px;
      padding: 4px 13px;
      background: #16a34a;
      color: #fff;
      border: none;
      border-radius: 7px;
      font-size: 13px;
      cursor: pointer;
      transition: background 0.15s;
    }
    .btn:disabled { background: #aaa; cursor: not-allowed; }
    .reset-btn {
      margin: 0 auto 22px auto; display: block;
      background: #2563eb;
    }
    .reset-box-btn {
      margin-top: 7px;
      background: #f59e42;
      color: #fff;
      border: none;
      border-radius: 7px;
      font-size: 12px;
      padding: 2px 13px;
      cursor: pointer;
      transition: background 0.15s;
    }
    .result { margin-top: 4px; min-height: 16px; font-weight: bold; font-size: 13px;}
    @media (max-width: 700px) { .box { width: 94vw; } }
  </style>
</head>
<body>
  <div class="container">
    <h2>Hexapawn Candy RL Simulator<br>
      <span style="font-size:16px;font-weight:normal;">
        (24 ‡∏Å‡∏•‡πà‡∏≠‡∏á, ‡∏ï‡∏±‡∏î‡∏™‡∏µ‡∏•‡∏π‡∏Å‡∏≠‡∏°‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Å‡∏•‡πà‡∏≠‡∏á, ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÑ‡∏î‡πâ)
      </span>
    </h2>
    <button class="btn reset-btn" onclick="resetAll()">Reset ‡∏•‡∏π‡∏Å‡∏≠‡∏°‡∏ó‡∏∏‡∏Å‡∏Å‡∏•‡πà‡∏≠‡∏á</button>
    <div class="boxes" id="boxes"></div>
  </div>
  <script>
    // ‡∏™‡∏µ‡πÅ‡∏•‡∏∞ emoji
    const colorToEmoji = {
      red: 'üç¨', green: 'üçè', blue: 'üü¶', yellow: 'üü°', orange: 'üçä', purple: 'üçá'
    };
    const colorLabelTH = {
      red: '‡πÅ‡∏î‡∏á', green: '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', blue: '‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô', yellow: '‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á', orange: '‡∏™‡πâ‡∏°', purple: '‡∏°‡πà‡∏ß‡∏á'
    };
    // ‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏®‡∏£‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Å‡∏•‡πà‡∏≠‡∏á (‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å pdf/‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)
    const boxesData = [
      ['blue','green','red'],         // Box 1
      ['red','blue'],                // Box 2
      ['red'],                          // Box 3
      ['red','blue','green','orange'],                        // Box 4
      ['red','blue'],               // Box 5
      ['blue','red','orange'],                // Box 6
      ['red','blue'],             // Box 7
      ['red','orange','blue'],                 // Box 8
      ['red','blue'],              // Box 9
      ['red','blue','green','orange'],               // Box 10
      ['red','blue'],             // Box 11
      ['red','blue'],                     // Box 12
      ['green','red'],              // Box 13
      ['green','red','orange'],               // Box 14
      ['red','green'],             // Box 15
      ['red','green'],                       // Box 16
      ['red','green'],             // Box 17
      ['red','green'],              // Box 18
      ['green','red'],            // Box 19
      ['green','red'],             // Box 20
      ['red','green'],            // Box 21
      ['green','red'],                     // Box 22
      ['green','red'],            // Box 23
      ['red']                      // Box 24
    ];
    function initialCandiesOfBox(boxIdx) {
      return boxesData[boxIdx].map(c => ({
        color: c,
        count: 1   // 1 ‡πÄ‡∏°‡πá‡∏î/‡∏™‡∏µ
      }));
    }
    function initialCandies() {
      return boxesData.map((colors, idx) => initialCandiesOfBox(idx));
    }
    let allCandies = [];
    let results = [];

    function render() {
      const boxes = document.getElementById('boxes');
      boxes.innerHTML = '';
      boxesData.forEach((colors, idx) => {
        const box = document.createElement('div');
        box.className = 'box';
        box.innerHTML = `<div style="font-weight:bold; margin-bottom:2px;">‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà ${idx+1}</div>`;
        // ‡πÅ‡∏™‡∏î‡∏á‡∏•‡∏π‡∏Å‡∏≠‡∏°+‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏î‡∏™‡∏µ
        const arrowsDiv = document.createElement('div');
        arrowsDiv.className = 'arrows';
        allCandies[idx].forEach((candy, cidx) => {
          if (candy.count > 0) {
            const arr = document.createElement('span');
            arr.className = 'arrow';
            arr.innerHTML = `
              <span style="color:${candy.color}; font-size: 23px;">${colorToEmoji[candy.color]||'üç¨'}</span>
              <span class="arrow-label" style="color:${candy.color}; font-size:12px;">${colorLabelTH[candy.color]}</span>
              <button class="remove-btn" onclick="removeCandy(${idx},'${candy.color}')" title="‡∏ï‡∏±‡∏î‡∏™‡∏µ‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å">‡∏ï‡∏±‡∏î‡∏™‡∏µ‡∏ô‡∏µ‡πâ</button>
            `;
            arrowsDiv.appendChild(arr);
          }
        });
        box.appendChild(arrowsDiv);
        // ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏∏‡πà‡∏°
        const btn = document.createElement('button');
        btn.className = 'btn';
        btn.textContent = '‡∏™‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏≠‡∏°';
        btn.disabled = allCandies[idx].every(c => c.count === 0);
        btn.onclick = () => pickCandy(idx);
        box.appendChild(btn);
        // ‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏•‡πà‡∏≠‡∏á
        const resetBoxBtn = document.createElement('button');
        resetBoxBtn.className = 'reset-box-btn';
        resetBoxBtn.textContent = '‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ';
        resetBoxBtn.onclick = () => resetBox(idx);
        box.appendChild(resetBoxBtn);
        // ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
        const result = document.createElement('div');
        result.className = 'result';
        result.innerHTML = results[idx]
          ? `‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: <span style="color:${results[idx].color}">${colorLabelTH[results[idx].color]||'‚Äî'}</span>`
          : '';
        box.appendChild(result);

        boxes.appendChild(box);
      });
    }

    function pickCandy(idx) {
      const candies = allCandies[idx];
      const available = candies.filter(c => c.count > 0);
      if (available.length === 0) {
        results[idx] = { color: 'black', label: '‡∏´‡∏°‡∏î‡∏•‡∏π‡∏Å‡∏≠‡∏°' };
        render();
        return;
      }
      const randIdx = Math.floor(Math.random() * available.length);
      const picked = available[randIdx];
      for (let c of candies) {
        if (c.color === picked.color && c.count > 0) {
          c.count -= 1;
          break;
        }
      }
      results[idx] = { color: picked.color, label: colorLabelTH[picked.color] };
      render();
    }

    // ‡∏ï‡∏±‡∏î‡∏™‡∏µ (set count = 0)
    function removeCandy(boxIdx, color) {
      for (let c of allCandies[boxIdx]) {
        if (c.color === color) {
          c.count = 0;
          break;
        }
      }
      results[boxIdx] = '';
      render();
    }

    function resetBox(boxIdx) {
      allCandies[boxIdx] = initialCandiesOfBox(boxIdx);
      results[boxIdx] = '';
      render();
    }

    function resetAll() {
      allCandies = initialCandies();
      results = Array(boxesData.length).fill('');
      render();
    }

    // ‡∏ó‡∏≥‡πÉ‡∏´‡πâ removeCandy ‡πÅ‡∏•‡∏∞ resetBox ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÉ‡∏ô html
    window.removeCandy = removeCandy;
    window.resetBox = resetBox;
    // Init
    resetAll();
  </script>
</body>
</html>